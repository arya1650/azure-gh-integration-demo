trigger:
  - main

pool:
  name: Default

steps:
- script: echo "This is a sample build step"
  displayName: 'Build Phase'

- task: GenerateReleaseNotes@5
  inputs:
    outputfile: 'release-notes.md'
    templateLocation: 'InLine'
    template: |

      ## ğŸ“¦ Release Notes

      ### âœ… Linked Work Items
      {{#forEach workItems}}
      - {{this.id}}: {{this.fields['System.Title']}}
      {{/forEach}}

      ### ğŸ” Commits
      {{#forEach commits}}
      - {{this.id}}: {{this.message}}
      {{/forEach}}

- task: PublishBuildArtifacts@1
  inputs:
    PathtoPublish: 'release-notes.md'
    ArtifactName: 'ReleaseNotes'
    publishLocation: 'Container'
